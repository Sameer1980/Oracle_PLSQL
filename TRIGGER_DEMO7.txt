CREATE OR REPLACE TRIGGER check_salary 
BEFORE INSERT OR UPDATE OF SALARY,JOB_ID ON DEMO_EMP
FOR EACH ROW
WHEN (NEW.JOB_ID<>'AD_PRES')
DECLARE
MINSALARY DEMO_EMP.SALARY%TYPE;
MAXSALARY DEMO_EMP.SALARY%TYPE;
BEGIN
SELECT MIN(SALARY),MAX(SALARY) INTO MINSALARY,MAXSALARY FROM DEMO_EMP WHERE JOB_ID=:NEW.JOB_ID;
IF :NEW.SALARY<MINSALARY OR :NEW.SALARY>MAXSALARY THEN
RAISE_APPLICATION_ERROR(-20505,'OUT OF RANGE:');
END IF;
END;