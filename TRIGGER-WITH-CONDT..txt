CREATE OR REPLACE TRIGGER DERIVE_COMMISSION_PCT
BEFORE INSERT OR UPDATE OF SALARY ON EMP
FOR EACH ROW
WHEN (NEW.JOB_ID='SA_REP')
BEGIN
IF INSERTING THEN
:NEW.COMMISSION_PCT:=0;
ELSIF 
:OLD.COMMISSION_PCT IS NULL THEN
:NEW.COMMISSION_PCT:=0;
ELSE
:NEW.COMMISSION_PCT:=:OLD.COMMISSION_PCT + 0.05;
END IF;
END;