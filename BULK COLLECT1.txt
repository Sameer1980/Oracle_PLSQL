CREATE OR REPLACE PROCEDURE GET_DEPARTMENTS AS
CURSOR DEPT_CUR IS SELECT * FROM DEPARTMENTS;
TYPE DEPT_TABTYPE IS TABLE OF DEPT_CUR%ROWTYPE;
DEPT DEPT_TABTYPE;
BEGIN
OPEN DEPT_CUR;
FETCH DEPT_CUR BULK COLLECT INTO DEPT;
CLOSE DEPT_CUR;

FOR I IN 1 .. DEPT.COUNT LOOP
DBMS_OUTPUT.PUT_LINE(DEPT(I).DEPARTMENT_ID||' - '||DEPT(I).DEPARTMENT_NAME);
END LOOP;

END; 