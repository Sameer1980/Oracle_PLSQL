CREATE OR REPLACE PROCEDURE SP_ADD_JOB (P_JOBID VARCHAR2,P_JOB_TITLE VARCHAR2) AS
CURSOR JOB_CUR IS SELECT JOB_ID FROM JOBS WHERE JOB_ID=P_JOBID;
DUPLICATE_JOB EXCEPTION;

BEGIN

FOR REC IN JOB_CUR LOOP

IF REC.JOB_ID=P_JOBID THEN
RAISE DUPLICATE_JOB;

END IF;

END LOOP;

INSERT INTO JOBS (JOB_ID,JOB_TITLE,MIN_SALARY,MAX_SALARY)
VALUES(P_JOBID,P_JOB_TITLE,NULL,NULL);

COMMIT;

EXCEPTION
WHEN DUPLICATE_JOB THEN
DBMS_OUTPUT.PUT_LINE('ERROR_0101:DUPLICATE JOB....');
ROLLBACK;

END;