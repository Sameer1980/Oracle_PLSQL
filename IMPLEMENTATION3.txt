
I) FIRST CREATE A TABLE DDL_LOG_TABLE:

CREATE TABLE DDL_LOG_TABLE
(
USER_NAME VARCHAR2(32),
DDL_DATE DATE,
DDL_TYPE VARCHAR2(25),
OBJECT_TYPE VARCHAR2(20),
OWNER VARCHAR2(32),
OBJECT_NAME VARCHAR2(128),
INSTANCE_NUMBER NUMBER(3),
DATABASE_NAME VARCHAR2(128),
IP_ADDRESS VARCHAR2(20)
)


II)THEN THE TRIGGER:

CREATE OR REPLACE TRIGGER DDL_LOG_TRIG AFTER DDL ON DATABASE
BEGIN
INSERT INTO DDL_LOG_TABLE
(
USER_NAME,
DDL_DATE,
DDL_TYPE,
OBJECT_TYPE,
OWNER,
OBJECT_NAME,
INSTANCE_NUMBER,
DATABASE_NAME,
IP_ADDRESS
)
VALUES
(
ora_login_user,
SYSDATE,
ora_sysevent,
ora_dict_obj_type,
ora_dict_obj_owner,
ora_dict_obj_name,
ora_instance_num,
ora_database_name,
ora_client_ip_address
);
END;